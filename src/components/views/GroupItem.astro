---
import Link from '~/components/base/Link.astro'
import { UI } from '~/config'
import type { ProjectSchema } from '~/content/schema'

interface Props {
  items: ProjectSchema[]
}

const { items } = Astro.props
const { groupItemCols, showGroupItemColorOnHover } = UI
---

<div
  u-grid="~ lt-lg:cols-2 lt-sm:cols-1 gap-4"
  class={`w-max py-8 mx-auto
    ${groupItemCols === 2 ? 'grid-cols-2' : ''}
    ${groupItemCols === 3 ? 'grid-cols-3' : ''}`}
>
  {
    items.map((item, _) => (
      <Link
        class={`link relative flex items-center
          w-[350px] max-w-full px-3.5 pt-2 pb-3.5 rounded-md
          bg-transparent hover:bg-[#88888811]
          text-4.4 transition-all duration-300`}
        href={item.link}
        title={item.name}
        external={true}
      >
        <div class="pt-2 pr-5">
          <div class={`icon op-50 saturate-0 leading-9 text-7.5 ${item.icon}`} />
        </div>
        <div class="flex-auto">
          <div>{item.name}</div>
          <div class="op-50 text-sm font-normal">{item.desc}</div>
        </div>
      </Link>
    ))
  }
</div>

{showGroupItemColorOnHover && (
  <style>
    .link:hover .icon {
      filter: saturate(1);
    }
  </style>
)}
